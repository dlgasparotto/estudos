<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="ISO8859-1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<link rel="stylesheet" href="libs/css/awesome/all.css">
	<script src="libs/js/jquery182.js"></script>
	<style>
		html, body { height: 100%; width: 100%; margin: 0 }
		* { box-sizing: border-box;}
		.miniatura { width: 2rem; height: 2rem}

		.backbox{border: 2px solid #000; background-color: rgb(0, 0, 0, .5); 
			height: 100%; 
			width: 100%; 
			position: fixed; 
			left: 0; 
			top:0;
			display: flex;
			align-items: center;
			justify-content: center;
			}

		.boxfoto{border: 1px solid #d4d4d4; width: auto; height: 70%}

	</style>

	<script>
		$(document).ready(start);
		function log(t){console.log(t)}

		function start(){
		$('.miniatura').click(function(e){

			let imgs = Array.from($('.miniatura'));
			let atual = $(e.target).index();
			//let foto = $(imgs[atual]).attr('rel')
			treta = `<div class="boxfoto" style="position: relative">
						<div style="position: absolute; left: 0; z-index: 100; top: 50%" class="movetretae">X</div>
						<div style="position: absolute; right: 0; z-index: 100; top: 50%" class="movetretad">Y</div>
						<img src="${foto}" style="height: 100%" id="imgtreta">
						</div>`;
			
			$('body').append('<div class="backbox">'+treta+'</div>')
			$('.movetretae, .movetretad').click(movetreta)	
			
			function setFoto(){ $('#imgtreta').attr('src', $(imgs[atual]).attr('rel')) }
			$('.backbox').click(function(e){log(e.target); $('.backbox').remove()})	
			function movetreta(e){
				e.stopPropagation();
				if ($(e.target).hasClass('movetretae')) {
					atual = atual > 0 ? atual - 1 : imgs.length - 1;
				} else {
					atual = atual == (imgs.length - 1) ? 0 : atual + 1;
				}
				//$('#imgtreta').hide('fast', () => $('#imgtreta').attr('src', $(imgs[atual]).attr('rel')).show('fast') )
				$('#imgtreta').animate({opacity: 0}, 'fast', () => $('#imgtreta').attr('src', $(imgs[atual]).attr('rel')).animate({opacity: 1},'fast') )
				//$('#imgtreta').fadeOut('fast' )
			}

			}
		);

		}
	</script>
</head>


<body>

	<img src="img/avatar1.jpg" rel="img/avatar1.jpg" class="miniatura" alt="1">
	<img src="img/logo.png" rel="img/logo.png" class="miniatura" alt="2">
	<img src="img/sol.png" rel="img/sol.png" class="miniatura" alt="3">

	<br><br><br><br><br><br><br><br><br><br><br><br><br><br>asdas<br><br><br><br><br><br><br><br><br><br><br><br>sadfsd<br><br><br><br><br><br><br><br><br><br>asd
</body>
</html>